<!DOCTYPE html>
<html>
    <head>
        <title>safari.html</title>
    </head>
    <body>
        <h2>Julianna Marshall goes on safari</h2>

        <p>Cick on the locations to find rare animals, watch out for the lion!</p>
        <p id="locations">Number of locations checked is zero.</p>
        <p id="score">Score is zero.</p>
        <p onclick="help()">Click for help.</p>
        <p id="help">Help report.</p>

        <div class="row">
            <div class="column">
                <img src="tree.jpg" height="100" width="100" id="img0" onclick="check(0)">
                <img src="tree.jpg" height="100" width="100" id="img1" onclick="check(1)">
                <img src="tree.jpg" height="100" width="100" id="img2" onclick="check(2)">
                <img src="tree.jpg" height="100" width="100" id="img3" onclick="check(3)">
                <img src="tree.jpg" height="100" width="100" id="img4" onclick="check(4)">
                <img src="tree.jpg" height="100" width="100" id="img5" onclick="check(5)">
            </div>
        </div>
        <div class="row">
            <div class="column">
                <img src="tree.jpg" height="100" width="100" id="6" onclick="check(6)">
                <img src="tree.jpg" height="100" width="100" id="7" onclick="check(7)">
                <img src="tree.jpg" height="100" width="100" id="8" onclick="check(8)">
                <img src="tree.jpg" height="100" width="100" id="9" onclick="check(9)">
                <img src="tree.jpg" height="100" width="100" id="10" onclick="check(10)">
                <img src="tree.jpg" height="100" width="100" id="11" onclick="check(11)">
            </div>
        </div>
        <div class="row">
            <div class="column">
                <img src="tree.jpg" height="100" width="100" id="12" onclick="check(12)">
                <img src="tree.jpg" height="100" width="100" id="13" onclick="check(13)">
                <img src="tree.jpg" height="100" width="100" id="14" onclick="check(14)">
                <img src="tree.jpg" height="100" width="100" id="15" onclick="check(15)">
                <img src="tree.jpg" height="100" width="100" id="16" onclick="check(16)">
                <img src="tree.jpg" height="100" width="100" id="17" onclick="check(17)">
            </div>
        </div>
        <div class="row">
            <div class="column">
                <img src="tree.jpg" height="100" width="100" id="18" onclick="check(18)">
                <img src="tree.jpg" height="100" width="100" id="19" onclick="check(19)">
                <img src="tree.jpg" height="100" width="100" id="20" onclick="check(20)">
                <img src="tree.jpg" height="100" width="100" id="21" onclick="check(21)">
                <img src="tree.jpg" height="100" width="100" id="22" onclick="check(22)">
                <img src="tree.jpg" height="100" width="100" id="23" onclick="check(23)">
            </div>
        </div>
        <div class="row">
            <div class="column">
                <img src="tree.jpg" height="100" width="100" id="24" onclick="check(24)">
                <img src="tree.jpg" height="100" width="100" id="25" onclick="check(25)">
                <img src="tree.jpg" height="100" width="100" id="26" onclick="check(26)">
                <img src="tree.jpg" height="100" width="100" id="27" onclick="check(27)">
                <img src="tree.jpg" height="100" width="100" id="28" onclick="check(28)">
                <img src="tree.jpg" height="100" width="100" id="29" onclick="check(29)">
            </div>
        </div>
        <div class="row">
            <div class="column">
                <img src="tree.jpg" height="100" width="100" id="30" onclick="check(30)">
                <img src="tree.jpg" height="100" width="100" id="31" onclick="check(31)">
                <img src="tree.jpg" height="100" width="100" id="32" onclick="check(32)">
                <img src="tree.jpg" height="100" width="100" id="33" onclick="check(33)">
                <img src="tree.jpg" height="100" width="100" id="34" onclick="check(34)">
                <img src="tree.jpg" height="100" width="100" id="35" onclick="check(35)">
            </div>
        </div>

        <script>
            let ids = ["img0", "img1", "img2", "img3", "img4", "img5", "6", "7", "8", "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31", "32", "33", "34", "35"];

            let score = 0;
            let locationsVisited = 0;
            let lastLocation = 0;
            let zebraLocations = [1, 8, 12, 22, 34];
            let lionLocation = 14;
            let gameOver = false;

            function check(position){
                //alert("check function called for position: " + position);
                if(gameOver == true){
                    console.log("game over exit");
                    return;
                } 

                let element = document.getElementById(ids[position]);

                if(position == lionLocation){
                    element.src = "lion.jpg";
                    gameOver = true;
                    score -= 2;
                    console.log("Lion found, score decreased to:", score, "Game over set to:", gameOver);
                }
                else if(zebraLocations.includes(position)){
                    element.src = "zebra.jpg";
                    score += 4;
                    console.log("Zebra found, score increased to:", score);
                }
                else{
                    element.src = "elephant.jpg";
                    score++;
                    console.log("Elephant found, score increased to:", score);
                }

                locationsVisited++;
                document.getElementById("locations").textContent = "Number of locations checked is " + locationsVisited;
                document.getElementById("score").textContent = "Score is " + score;
                console.log("Score and locations visited updated in HTML.");
                lastLocation = position;
            }
            
            function help(){
                let neighbors = []
                let message = "It's grey"

                if(lastLocation % 6 != 0) neighbors.push(lastLocation - 1)
                if(lastLocation % 6 != 5) neighbors.push(lastLocation + 1)
                if(lastLocation - 6 >= 0) neighbors.push(lastLocation - 6)
                if(lastLocation + 6 < 36) neighbors.push(lastLocation + 6)

                for(i = 0; i < neighbors.length; i++){
                    if(zebraLocations.includes(neighbors[i])){
                        message = "I see stripes"
                        break
                    }
                    else if(neighbors[i] == lionLocation){
                        message = "Rawr"
                        break
                    }
                }
                document.getElementById("help").textContent = message
            }
        </script>
    </body>
</html>